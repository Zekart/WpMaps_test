<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>WP Maps</title>
        <h:outputStylesheet library="css" name="login_page.css" />
        <script src = "http://maps.google.com/maps/api/js?key=AIzaSyDzwk44zfDh3JQSN1ooK-SIXzvODeFo_dc"
                type = "text/javascript" />
    </h:head>
    <h:body>
        <p:growl autoUpdate="true" />        
<!--        <p:gmap center="46.968687,31.9790294" zoom="17" type="terrain" model="{gMapsController.model}" 
                draggable="false" navigationControl="false" disableDefaultUI="true" scrollWheel="false"
                mapTypeControl="false" disableDoubleClickZoom="true" style="width: 100vw;height: 100vh;" /> -->
        <h:form id="authorizationForm">
            <div id="login-box" class="wraper">      
                <div class="left">
                    <h1>Авторизация</h1>
                    <h:inputText id="log" value="#{userController.current.login}"/>
                    <h:inputSecret id="pass" value="#{userController.current.password}" />
                    <p:watermark for="log" value="Логин" />
                    <p:watermark for="pass" value="Пароль" />
                    <p:commandButton styleClass="social-signin google" action="#{userController.login()}" value="Войти" /> 
                    <div class="or">+</div>
                </div>
                <div class="right" id="registrationCollapse">
                    <span class="loginwith">Регистрация<br />пользователя</span>
                    <h:inputText id="new_log" value="#{userController.newUser.login}"/>
                    <h:inputSecret id="new_pass" value="#{userController.newUser.password}"/>
                    <h:inputText id="new_about" value="#{userController.newUser.about}"/>
                    <p:commandButton id="confirmRegistration" onclick="hideRegistrationForm()" styleClass="social-signin twitter" action="#{userController.registration()}" value="регистрация" >
                    </p:commandButton>
                    <p:watermark for="new_log" value="Логин" />
                    <p:watermark for="new_pass" value="Пароль" />
                    <p:watermark for="new_about" value="ФИО" />
                </div>
            </div>            
        </h:form>
    </h:body>
    <script>
        $('.or').click(function(){
            if($(this).hasClass('active')) {
                $('#registrationCollapse').animate({left: '50%'}, 200);
                $(this).removeClass("active");
            } else {
                $('#registrationCollapse').animate({left: '0%'}, 200);
                $(this).toggleClass("active");
            }
        }); 
        function hideRegistrationForm(){
            ('#registrationCollapse').animate({left: '0%'}, 200);  
                $(this).toggleClass("active");
                

        }
        
    </script>
</html>

